{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=getNavigation;var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _getNavigationActionCreators=_interopRequireDefault(require(\"./routers/getNavigationActionCreators\"));var _getChildNavigation2=_interopRequireDefault(require(\"./getChildNavigation\"));var _getChildrenNavigationCache=_interopRequireDefault(require(\"./getChildrenNavigationCache\"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function getNavigation(router,state,dispatch,actionSubscribers,getScreenProps,getCurrentNavigation){var actions=router.getActionCreators(state,null);var navigation={actions:actions,router:router,state:state,dispatch:dispatch,getScreenProps:getScreenProps,getChildNavigation:function getChildNavigation(childKey){return(0,_getChildNavigation2.default)(navigation,childKey,getCurrentNavigation);},isFocused:function isFocused(childKey){var _getCurrentNavigation=getCurrentNavigation().state,routes=_getCurrentNavigation.routes,index=_getCurrentNavigation.index;if(childKey==null||routes[index].key===childKey){return true;}return false;},addListener:function addListener(eventName,handler){if(eventName!=='action'){return{remove:function remove(){}};}actionSubscribers.add(handler);return{remove:function remove(){actionSubscribers.delete(handler);}};},dangerouslyGetParent:function dangerouslyGetParent(){return null;},isFirstRouteInParent:function isFirstRouteInParent(){return true;},_childrenNavigation:(0,_getChildrenNavigationCache.default)(getCurrentNavigation())};var actionCreators=_objectSpread(_objectSpread({},(0,_getNavigationActionCreators.default)(navigation.state)),actions);Object.keys(actionCreators).forEach(function(actionName){navigation[actionName]=function(){return navigation.dispatch(actionCreators[actionName].apply(actionCreators,arguments));};});return navigation;}","map":{"version":3,"sources":["getNavigation.js"],"names":["actions","router","navigation","state","dispatch","getScreenProps","getChildNavigation","childKey","isFocused","index","getCurrentNavigation","routes","addListener","eventName","remove","actionSubscribers","dangerouslyGetParent","isFirstRouteInParent","_childrenNavigation","getChildrenNavigationCache","actionCreators","getNavigationActionCreators","Object","actionName"],"mappings":"wQAAA,0GACA,iFACA,gG,yyBAEe,QAAA,CAAA,aAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,iBAAA,CAAA,cAAA,CAAA,oBAAA,CAOb,CACA,GAAMA,CAAAA,OAAO,CAAGC,MAAM,CAANA,iBAAAA,CAAAA,KAAAA,CAAhB,IAAgBA,CAAhB,CAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBF,OADiB,CACjBA,OADiB,CAEjBC,MAFiB,CAEjBA,MAFiB,CAGjBE,KAHiB,CAGjBA,KAHiB,CAIjBC,QAJiB,CAIjBA,QAJiB,CAKjBC,cALiB,CAKjBA,cALiB,CAMjBC,kBAAkB,CAAGC,4BAAAA,QAAD,QAClBD,iCAAkB,UAAlBA,CAAkB,QAAlBA,CAPe,oBAOfA,CADkB,EANH,CAQjBE,SAAS,CAAGD,mBAAAA,QAAD,CAAc,2BACGG,oBAAoB,GAA9C,KADuB,CACjB,MADiB,uBACjB,MADiB,CACPD,KADO,uBACPA,KADO,CAEvB,GAAIF,QAAQ,EAARA,IAAAA,EAAoBI,MAAM,CAANA,KAAM,CAANA,CAAAA,GAAAA,GAAxB,QAAA,CAAwD,CACtD,MAAA,KAAA,CACD,CACD,MAAA,MAAA,CAbe,CAAA,CAejBC,WAAW,CAAE,qBAAA,SAAA,CAAA,OAAA,CAAwB,CACnC,GAAIC,SAAS,GAAb,QAAA,CAA4B,CAC1B,MAAO,CAAEC,MAAM,CAAE,iBAAM,CAAE,CAAlB,CAAP,CACD,CACDC,iBAAiB,CAAjBA,GAAAA,CAAAA,OAAAA,EACA,MAAO,CACLD,MAAM,CAAE,iBAAM,CACZC,iBAAiB,CAAjBA,MAAAA,CAAAA,OAAAA,EACD,CAHI,CAAP,CApBe,CAAA,CA0BjBC,oBAAoB,CAAE,sCA1BL,KA0BK,EA1BL,CA2BjBC,oBAAoB,CAAE,sCA3BL,KA2BK,EA3BL,CA4BjBC,mBAAmB,CAAEC,wCAA2BT,oBAAD,EAA1BS,CA5BJ,CAAnB,CA+BA,GAAMC,CAAAA,cAAc,gCACfC,yCAA4BnB,UAAU,CADpB,KAClBmB,CADe,EAEfrB,OAFe,CAApB,CAKAsB,MAAM,CAANA,IAAAA,CAAAA,cAAAA,EAAAA,OAAAA,CAAqCC,SAAAA,UAAD,CAAgB,CAClDrB,UAAU,CAAVA,UAAU,CAAVA,CAAyB,iBACvBA,CAAAA,UAAU,CAAVA,QAAAA,CAAoBkB,cAAc,CADpClB,UACoC,CAAdkB,OAAAA,cAAc,WAAlClB,CADuB,EAAzBA,CADFoB,CAAAA,EAKA,MAAA,CAAA,UAAA,CACD","sourcesContent":["import getNavigationActionCreators from './routers/getNavigationActionCreators';\nimport getChildNavigation from './getChildNavigation';\nimport getChildrenNavigationCache from './getChildrenNavigationCache';\n\nexport default function getNavigation(\n  router,\n  state,\n  dispatch,\n  actionSubscribers,\n  getScreenProps,\n  getCurrentNavigation\n) {\n  const actions = router.getActionCreators(state, null);\n\n  const navigation = {\n    actions,\n    router,\n    state,\n    dispatch,\n    getScreenProps,\n    getChildNavigation: (childKey) =>\n      getChildNavigation(navigation, childKey, getCurrentNavigation),\n    isFocused: (childKey) => {\n      const { routes, index } = getCurrentNavigation().state;\n      if (childKey == null || routes[index].key === childKey) {\n        return true;\n      }\n      return false;\n    },\n    addListener: (eventName, handler) => {\n      if (eventName !== 'action') {\n        return { remove: () => {} };\n      }\n      actionSubscribers.add(handler);\n      return {\n        remove: () => {\n          actionSubscribers.delete(handler);\n        },\n      };\n    },\n    dangerouslyGetParent: () => null,\n    isFirstRouteInParent: () => true,\n    _childrenNavigation: getChildrenNavigationCache(getCurrentNavigation()),\n  };\n\n  const actionCreators = {\n    ...getNavigationActionCreators(navigation.state),\n    ...actions,\n  };\n\n  Object.keys(actionCreators).forEach((actionName) => {\n    navigation[actionName] = (...args) =>\n      navigation.dispatch(actionCreators[actionName](...args));\n  });\n\n  return navigation;\n}\n"]},"metadata":{},"sourceType":"script"}