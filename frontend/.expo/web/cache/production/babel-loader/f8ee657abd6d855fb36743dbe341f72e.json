{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _reactNative=require(\"react-native\");var Agent=function(){function Agent(){(0,_classCallCheck2.default)(this,Agent);}(0,_createClass2.default)(Agent,[{key:\"show\",value:function show(url){var ephemeralSession=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var closeOnLoad=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!_reactNative.NativeModules.A0Auth0){return Promise.reject(new Error('Missing NativeModule. React Native versions 0.60 and up perform auto-linking. Please see https://github.com/react-native-community/cli/blob/master/docs/autolinking.md.'));}return new Promise(function(resolve,reject){var _NativeModules$A0Auth;var urlHandler=function urlHandler(event){_reactNative.NativeModules.A0Auth0.hide();_reactNative.Linking.removeEventListener('url',urlHandler);resolve(event.url);};var params=_reactNative.Platform.OS==='ios'?[ephemeralSession,closeOnLoad]:[closeOnLoad];_reactNative.Linking.addEventListener('url',urlHandler);(_NativeModules$A0Auth=_reactNative.NativeModules.A0Auth0).showUrl.apply(_NativeModules$A0Auth,[url].concat(params,[function(error,redirectURL){_reactNative.Linking.removeEventListener('url',urlHandler);if(error){reject(error);}else if(redirectURL){resolve(redirectURL);}else if(closeOnLoad){resolve();}}]));});}},{key:\"newTransaction\",value:function newTransaction(){if(!_reactNative.NativeModules.A0Auth0){return Promise.reject(new Error('Missing NativeModule. React Native versions 0.60 and up perform auto-linking. Please see https://github.com/react-native-community/cli/blob/master/docs/autolinking.md.'));}return new Promise(function(resolve,reject){_reactNative.NativeModules.A0Auth0.oauthParameters(function(parameters){resolve(parameters);});});}}]);return Agent;}();exports.default=Agent;","map":{"version":3,"sources":["/Users/diannamcallister/Desktop/spotstitch/frontend/node_modules/react-native-auth0/src/webauth/agent.js"],"names":["Agent","url","ephemeralSession","closeOnLoad","NativeModules","A0Auth0","Promise","reject","Error","resolve","urlHandler","event","hide","Linking","removeEventListener","params","Platform","OS","addEventListener","showUrl","error","redirectURL","oauthParameters","parameters"],"mappings":"yVAAA,yC,GAEqBA,CAAAA,K,0HACnB,cAAKC,GAAL,CAAyD,IAA/CC,CAAAA,gBAA+C,2DAA5B,KAA4B,IAArBC,CAAAA,WAAqB,2DAAP,KAAO,CACvD,GAAI,CAACC,2BAAcC,OAAnB,CAA4B,CAC1B,MAAOC,CAAAA,OAAO,CAACC,MAAR,CACL,GAAIC,CAAAA,KAAJ,CACE,yKADF,CADK,CAAP,CAKD,CAED,MAAO,IAAIF,CAAAA,OAAJ,CAAY,SAACG,OAAD,CAAUF,MAAV,CAAqB,2BACtC,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,KAAK,CAAI,CAC1BP,2BAAcC,OAAd,CAAsBO,IAAtB,GACAC,qBAAQC,mBAAR,CAA4B,KAA5B,CAAmCJ,UAAnC,EACAD,OAAO,CAACE,KAAK,CAACV,GAAP,CAAP,CACD,CAJD,CAKA,GAAMc,CAAAA,MAAM,CACVC,sBAASC,EAAT,GAAgB,KAAhB,CAAwB,CAACf,gBAAD,CAAmBC,WAAnB,CAAxB,CAA0D,CAACA,WAAD,CAD5D,CAEAU,qBAAQK,gBAAR,CAAyB,KAAzB,CAAgCR,UAAhC,EACA,kDAAcL,OAAd,EAAsBc,OAAtB,8BAA8BlB,GAA9B,SAAsCc,MAAtC,EAA8C,SAACK,KAAD,CAAQC,WAAR,CAAwB,CACpER,qBAAQC,mBAAR,CAA4B,KAA5B,CAAmCJ,UAAnC,EACA,GAAIU,KAAJ,CAAW,CACTb,MAAM,CAACa,KAAD,CAAN,CACD,CAFD,IAEO,IAAIC,WAAJ,CAAiB,CACtBZ,OAAO,CAACY,WAAD,CAAP,CACD,CAFM,IAEA,IAAIlB,WAAJ,CAAiB,CACtBM,OAAO,GACR,CACF,CATD,IAUD,CAnBM,CAAP,CAoBD,C,8BAED,yBAAiB,CACf,GAAI,CAACL,2BAAcC,OAAnB,CAA4B,CAC1B,MAAOC,CAAAA,OAAO,CAACC,MAAR,CACL,GAAIC,CAAAA,KAAJ,CACE,yKADF,CADK,CAAP,CAKD,CAED,MAAO,IAAIF,CAAAA,OAAJ,CAAY,SAACG,OAAD,CAAUF,MAAV,CAAqB,CACtCH,2BAAcC,OAAd,CAAsBiB,eAAtB,CAAsC,SAAAC,UAAU,CAAI,CAClDd,OAAO,CAACc,UAAD,CAAP,CACD,CAFD,EAGD,CAJM,CAAP,CAKD,C","sourcesContent":["import {NativeModules, Linking, Platform} from 'react-native';\n\nexport default class Agent {\n  show(url, ephemeralSession = false, closeOnLoad = false) {\n    if (!NativeModules.A0Auth0) {\n      return Promise.reject(\n        new Error(\n          'Missing NativeModule. React Native versions 0.60 and up perform auto-linking. Please see https://github.com/react-native-community/cli/blob/master/docs/autolinking.md.'\n        ),\n      );\n    }\n\n    return new Promise((resolve, reject) => {\n      const urlHandler = event => {\n        NativeModules.A0Auth0.hide();\n        Linking.removeEventListener('url', urlHandler);\n        resolve(event.url);\n      };\n      const params =\n        Platform.OS === 'ios' ? [ephemeralSession, closeOnLoad] : [closeOnLoad];\n      Linking.addEventListener('url', urlHandler);\n      NativeModules.A0Auth0.showUrl(url, ...params, (error, redirectURL) => {\n        Linking.removeEventListener('url', urlHandler);\n        if (error) {\n          reject(error);\n        } else if (redirectURL) {\n          resolve(redirectURL);\n        } else if (closeOnLoad) {\n          resolve();\n        }\n      });\n    });\n  }\n\n  newTransaction() {\n    if (!NativeModules.A0Auth0) {\n      return Promise.reject(\n        new Error(\n          'Missing NativeModule. React Native versions 0.60 and up perform auto-linking. Please see https://github.com/react-native-community/cli/blob/master/docs/autolinking.md.',\n        ),\n      );\n    }\n\n    return new Promise((resolve, reject) => {\n      NativeModules.A0Auth0.oauthParameters(parameters => {\n        resolve(parameters);\n      });\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"script"}